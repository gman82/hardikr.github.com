<html lang="en">
<head>
	<meta charset="utf-8" />
	<meta name="description" content="The personal blog of Hardik Ruparel where he talks about programming, technology, startups, India, and pretty much anything he finds interesting" />
	<meta name="keywords" content="programming, startups, india, entrepreneurship, javascript, node.js" />
        <meta property="og:title" content="A Day Without Chocolate " />
        <meta property="og:type" content="Blog" />
        <meta property="og:url" content="http://localhost:4000" />
        <meta property="og:image" content="http://commondatastorage.googleapis.com/hardik/new.ico" />
        <meta property="og:description" content="The personal blog of Hardik Ruparel where he talks about programming, technology, startups, India, and pretty much anything he finds interesting" />
        <meta property="og:site_name" content="A Day Without Chocolate" />
	<title>A Day Without Chocolate </title>
	<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
	<link rel="stylesheet" href="http://localhost:4000/css/layout.css" type="text/css" media="screen" />
	<link rel="stylesheet" href="http://localhost:4000/css/default.css" type="text/css" media="screen" />
	<link rel="stylesheet" href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic|Yanone+Kaffeesatz:regular,bold" />
	<link rel="icon" href="http://commondatastorage.googleapis.com/hardik/new.ico" type="image/x-icon">
	<!--<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.4.2/jquery.min.js" type="text/javascript"></script>
	<script type="text/javascript">$(document).ready(function(){$("p:has(img)").css('padding-left', '0 !important');});</script>-->
	<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-19059213-2']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>
</head>
<body>
	<div class="wrap" id="page">
		<div class="payload">
			<div class="side">
			<a href="http://localhost:4000"><h2 style="padding-top:65px;color:#BEBEBE">A Day Without <span style="color:#7B3F00">[Chocolate]</span></h2></a>
				<div id="byline">
					<a href="http://localhost:4000/about.html"><span class="fancy">By</span> Hardik Ruparel</a>
				</div><!--/byline-->
				<div id="navigation">
					<ul>
						<li><a href="http://localhost:4000/essays">Essays</a></li>
						<li><a href="http://localhost:4000/archives.html">Archives</a></li>
						<li><a href="http://localhost:4000/about.html">About</a></li>
						<li><a href="http://localhost:4000/contact.html">Contact</a></li>
						<li><a href="http://localhost:4000/feeds.html">Feeds</a></li>
						<li><a href="https://twitter.com/hardikr">Twitter</a></li>
					</ul>
				</div><!--/navigation-->
				<a target="_blank" rel="license" href="http://creativecommons.org/licenses/by-nc-nd/3.0/"><img alt="Creative Commons License" style="border-width:0" id="cc" src="http://i.creativecommons.org/l/by-nc-nd/3.0/88x31.png" /></a>
			</div><!--/side-->
			<div class="main">
				
				
<!--Post -->
<div id="post-" class="post">
	<h2><a href="http://localhost:4000/js/node-2">A Gentle Introduction to Node - 2</a></h2>
	<div class="post-meta">
		<div class="meta-date">April 23, 2011</div>
	</div>
	<p><em>Previously: <a href='http://blog.hardikr.com/js/node-1/' title='The first post in the series'>A Gentle Introduction to Node - 1</a></em></p>

<p>If you&#8217;ve not read the first post, please read it ! (especially the <a href='http://blog.hardikr.com/js/node-1/#resources' title='Resources in first post'>resources</a> section to get a good understanding of how Node works.</p>

<p>So let&#8217;s dive in. We&#8217;re going to be building a simple looking homepage for me using a static file server in Node.JS. I agree that&#8217;s probably not what Node is best at, but at some point in your life you are going to want to serve static files to the browser.</p>

<p>Let&#8217;s dive in. The code may look big and mean, but it&#8217;s actually really easy to understand. And please, type out the code, especially if you&#8217;re new to Javascript. If you want to view it in your code editor, grab the code <a href='https://github.com/hardikr/hardikr.github.com/raw/master/static/node/post2/post2.js'>here</a>.</p>
<div class='highlight'><pre><span class='kd'>var</span> <span class='nx'>http</span> <span class='o'>=</span> <span class='nx'>require</span><span class='p'>(</span><span class='s1'>&#39;http&#39;</span><span class='p'>);</span>
<span class='kd'>var</span> <span class='nx'>fs</span> <span class='o'>=</span> <span class='nx'>require</span><span class='p'>(</span><span class='s1'>&#39;fs&#39;</span><span class='p'>);</span>
<span class='kd'>var</span> <span class='nx'>server</span> <span class='o'>=</span> <span class='nx'>http</span><span class='p'>.</span><span class='nx'>createServer</span><span class='p'>(</span><span class='kd'>function</span> <span class='p'>(</span><span class='nx'>req</span><span class='p'>,</span><span class='nx'>res</span><span class='p'>)</span> <span class='p'>{</span>
	<span class='kd'>var</span> <span class='nx'>path</span> <span class='o'>=</span> <span class='nx'>req</span><span class='p'>.</span><span class='nx'>url</span><span class='p'>;</span>
	<span class='k'>switch</span><span class='p'>(</span><span class='nx'>path</span><span class='p'>)</span> <span class='p'>{</span>
	
	<span class='c1'>// This is a trivial implementation of URL routing.		</span>
	
		<span class='k'>case</span> <span class='s1'>&#39;/&#39;</span> <span class='o'>:</span>	
	<span class='nx'>res</span><span class='p'>.</span><span class='nx'>writeHead</span><span class='p'>(</span><span class='mi'>200</span><span class='p'>,</span> <span class='p'>{</span><span class='s1'>&#39;Content-Type&#39;</span> <span class='o'>:</span> <span class='s1'>&#39;text/html&#39;</span><span class='p'>});</span>
	<span class='nx'>res</span><span class='p'>.</span><span class='nx'>write</span><span class='p'>(</span><span class='s1'>&#39;Welcome, you have reached my homepage. &#39;</span> <span class='o'>+</span> 
	<span class='s1'>&#39;You can check out my twitter profile &#39;</span> <span class='o'>+</span> 
	<span class='s1'>&#39;&lt;a href=&quot;https://twitter.com/hardikr&quot;&gt;here&lt;/a&gt;&#39;</span> <span class='o'>+</span> 
	<span class='s1'>&#39;&lt;p&gt;Sitemap&lt;/p&gt;&#39;</span> <span class='o'>+</span> 
	<span class='s1'>&#39;&lt;li&gt;&lt;a href=&quot;about&quot;&gt;About&lt;/a&gt;&#39;</span> <span class='o'>+</span> 
	<span class='s1'>&#39;&lt;li&gt;&lt;a href=&quot;image.png&quot;&gt;My Favorite XKCD comic&lt;/a&gt;&#39;</span>
	<span class='p'>);</span>
	<span class='nx'>res</span><span class='p'>.</span><span class='nx'>end</span><span class='p'>();</span>
	<span class='k'>break</span><span class='p'>;</span>

		<span class='k'>case</span> <span class='s1'>&#39;/about&#39;</span> <span class='o'>:</span> 
	<span class='nx'>res</span><span class='p'>.</span><span class='nx'>writeHead</span><span class='p'>(</span><span class='mi'>200</span><span class='p'>,</span> <span class='p'>{</span><span class='s1'>&#39;Content-Type&#39;</span> <span class='o'>:</span> <span class='s1'>&#39;text/html&#39;</span><span class='p'>});</span>
	<span class='nx'>res</span><span class='p'>.</span><span class='nx'>write</span><span class='p'>(</span><span class='s1'>&#39;My name is Hardik. That\&#39;s all :| &#39;</span> <span class='o'>+</span> 
	<span class='s1'>&#39;&lt;br/&gt; &lt;a href=&quot;/&quot;&gt;Go Back&lt;/a&gt;&#39;</span>
	<span class='p'>);</span>
	<span class='nx'>res</span><span class='p'>.</span><span class='nx'>end</span><span class='p'>();</span>
	<span class='k'>break</span><span class='p'>;</span>

		<span class='k'>case</span> <span class='s1'>&#39;/image.png&#39;</span> <span class='o'>:</span> 
	<span class='nx'>fs</span><span class='p'>.</span><span class='nx'>readFile</span><span class='p'>(</span><span class='nx'>__dirname</span> <span class='o'>+</span> <span class='nx'>path</span><span class='p'>,</span> <span class='kd'>function</span><span class='p'>(</span><span class='nx'>err</span><span class='p'>,</span> <span class='nx'>data</span><span class='p'>)</span> <span class='p'>{</span>
		<span class='k'>if</span><span class='p'>(</span><span class='nx'>err</span><span class='p'>)</span> <span class='k'>throw</span> <span class='nx'>err</span><span class='p'>;</span>
		<span class='nx'>res</span><span class='p'>.</span><span class='nx'>writeHead</span><span class='p'>(</span><span class='mi'>200</span><span class='p'>,</span> <span class='p'>{</span><span class='s1'>&#39;Content-Type&#39;</span> <span class='o'>:</span> <span class='s1'>&#39;image/png&#39;</span><span class='p'>});</span>
		<span class='nx'>res</span><span class='p'>.</span><span class='nx'>write</span><span class='p'>(</span><span class='nx'>data</span><span class='p'>,</span><span class='s1'>&#39;utf8&#39;</span><span class='p'>);</span>
		<span class='nx'>res</span><span class='p'>.</span><span class='nx'>end</span><span class='p'>();</span>
	<span class='p'>});</span>
	<span class='k'>break</span><span class='p'>;</span>

		<span class='k'>case</span> <span class='s1'>&#39;default&#39;</span><span class='o'>:</span> 	
	<span class='nx'>res</span><span class='p'>.</span><span class='nx'>writeHead</span><span class='p'>(</span><span class='mi'>404</span><span class='p'>,</span> <span class='p'>{</span><span class='s1'>&#39;Content-Type&#39;</span> <span class='o'>:</span> <span class='s1'>&#39;text/plain&#39;</span><span class='p'>});</span>
	<span class='nx'>res</span><span class='p'>.</span><span class='nx'>write</span><span class='p'>(</span><span class='s1'>&#39;Page Not Found. 404&#39;</span><span class='p'>);</span>
	<span class='nx'>res</span><span class='p'>.</span><span class='nx'>end</span><span class='p'>();</span>
	
	<span class='p'>}</span>

<span class='p'>}).</span><span class='nx'>listen</span><span class='p'>(</span><span class='mi'>8080</span><span class='p'>);</span>
<span class='nx'>console</span><span class='p'>.</span><span class='nx'>log</span><span class='p'>(</span><span class='s1'>&#39;Server started at http://localhost:8080&#39;</span><span class='p'>);</span>
</pre>
</div>
<p>As discussed before, Node uses modules which you can include in your code to let you do awesome stuff. Just like Python, Node is an uber-cool Swiss Army Knife, only there&#8217;s no limit to how far you can customize the modules you need to include. You can even use the hundreds of third party modules already available, and when you&#8217;re confident enough, you can build your own modules to serve your needs.</p>
<div class='highlight'><pre><span class='kd'>var</span> <span class='nx'>http</span> <span class='o'>=</span> <span class='nx'>require</span><span class='p'>(</span><span class='s1'>&#39;http&#39;</span><span class='p'>);</span>
<span class='kd'>var</span> <span class='nx'>fs</span> <span class='o'>=</span> <span class='nx'>require</span><span class='p'>(</span><span class='s1'>&#39;fs&#39;</span><span class='p'>);</span>
</pre>
</div>
<p>So, we start off with importing the <code>http</code> module (which we used in the previous post), along with the <code>fs</code> module. The <code>fs</code> module is the File System module, which we&#8217;ll use to read a local file and display it to the browser.</p>
<div class='highlight'><pre><span class='kd'>var</span> <span class='nx'>server</span> <span class='o'>=</span> <span class='nx'>http</span><span class='p'>.</span><span class='nx'>createServer</span><span class='p'>(</span><span class='kd'>function</span> <span class='p'>(</span><span class='nx'>req</span><span class='p'>,</span><span class='nx'>res</span><span class='p'>)</span> <span class='p'>{</span>
 <span class='kd'>var</span> <span class='nx'>path</span> <span class='o'>=</span> <span class='nx'>req</span><span class='p'>.</span><span class='nx'>url</span><span class='p'>;</span>
</pre>
</div>
<p>Next, we initialize our server object, with our <code>req</code> (request) and <code>res</code> (response) objects coming in as parameters to the callback function. If you read the last post carefully, you may have realized we never used the request object for anything. Well, we&#8217;re gonna do that right now.</p>

<p>We obtain the requested URL by accessing <code>req.url</code> value (from the <code>req</code> object). To illustrate, if I accessed <code>http://example.com/about</code>, then <code>req.url</code> returns <code>/about</code>. (Note, you can get a detailed look at the request object by simply doing <code>console.log(req)</code>. Similarly, you can log pretty much anything if you&#8217;re not sure about something. It&#8217;s actually a good way of debugging Node.JS code. Note that the log will appear in your terminal and not in your browser since this is server-side Javascript.)</p>

<p><em><strong>Note</strong></em>: I&#8217;m taking a little detour here. In several open-source projects, I&#8217;ve seen the following code used to extract the pathname:</p>
<div class='highlight'><pre><span class='kd'>var</span> <span class='nx'>url</span> <span class='o'>=</span> <span class='nx'>require</span><span class='p'>(</span><span class='s1'>&#39;url&#39;</span><span class='p'>)</span> <span class='c1'>// Include the url module for url.parse</span>
<span class='cm'>/** </span>
<span class='cm'> * similar code until we get to defining our path</span>
<span class='cm'>**/</span>
<span class='kd'>var</span> <span class='nx'>path</span> <span class='o'>=</span> <span class='nx'>url</span><span class='p'>.</span><span class='nx'>parse</span><span class='p'>(</span><span class='nx'>req</span><span class='p'>.</span><span class='nx'>url</span><span class='p'>).</span><span class='nx'>pathname</span><span class='p'>;</span>
</pre>
</div>
<p>To make sure you&#8217;re on track, if the browser requested <code>http://example.com/about</code>, then req.url contains <code>/about</code>. Coming to the above code, <code>url.parse</code> is a method from the <code>url</code> module that creates a <code>url</code> object out of a URL string. Don&#8217;t be confused, hang on! I&#8217;m illustrating the use of url.parse() on a sample string:</p>
<div class='highlight'><pre><span class='kd'>var</span> <span class='nx'>urlString</span> <span class='o'>=</span> <span class='s1'>&#39;http://example.com/about&#39;</span><span class='p'>;</span> 
<span class='kd'>var</span> <span class='nx'>urlObject</span> <span class='o'>=</span> <span class='nx'>url</span><span class='p'>.</span><span class='nx'>parse</span><span class='p'>(</span><span class='nx'>urlString</span><span class='p'>);</span>
<span class='nx'>console</span><span class='p'>.</span><span class='nx'>log</span><span class='p'>(</span><span class='nx'>urlObject</span><span class='p'>);</span>
</pre>
</div>
<p>This returns the <code>url</code> object of the string we declared:</p>
<div class='highlight'><pre><span class='p'>{</span> <span class='nx'>protocol</span><span class='o'>:</span> <span class='s1'>&#39;http:&#39;</span><span class='p'>,</span>
  <span class='nx'>slashes</span><span class='o'>:</span> <span class='kc'>true</span><span class='p'>,</span>
  <span class='nx'>host</span><span class='o'>:</span> <span class='s1'>&#39;example.com&#39;</span><span class='p'>,</span>
  <span class='nx'>hostname</span><span class='o'>:</span> <span class='s1'>&#39;example.com&#39;</span><span class='p'>,</span>
  <span class='nx'>pathname</span><span class='o'>:</span> <span class='s1'>&#39;/about&#39;</span><span class='p'>,</span>
  <span class='nx'>href</span><span class='o'>:</span> <span class='s1'>&#39;http://example.com/about&#39;</span> <span class='p'>}</span>
</pre>
</div>
<p>So, going back to the code,</p>
<div class='highlight'><pre><span class='kd'>var</span> <span class='nx'>path</span> <span class='o'>=</span> <span class='nx'>url</span><span class='p'>.</span><span class='nx'>parse</span><span class='p'>(</span><span class='nx'>req</span><span class='p'>.</span><span class='nx'>url</span><span class='p'>).</span><span class='nx'>pathname</span><span class='p'>;</span>
</pre>
</div>
<p>Since the requested URL is <code>http://example.com/about</code>, <code>req.url</code> already contains <code>/about</code>. So, if we were to use <code>url.parse(req.url)</code> , it would convert <code>/about</code> into an object, like so:</p>
<div class='highlight'><pre><span class='p'>{</span> <span class='nx'>pathname</span><span class='o'>:</span> <span class='s1'>&#39;/about&#39;</span><span class='p'>,</span> <span class='nx'>href</span><span class='o'>:</span> <span class='s1'>&#39;/about&#39;</span> <span class='p'>}</span>
</pre>
</div>
<p>Summing up, the code is unnecessarily (in my opinion) converting <code>/about</code> into a URL object, and extracting the <code>pathname</code> which would return the same <code>/about</code>. I&#8217;m not too sure why <a href='https://github.com/search?q=path+%3D+url.parse%28req.url%29.pathname&amp;type=Everything&amp;repo=&amp;langOverride=&amp;start_value=1' title='GitHub search for url.parse'>so many projects</a> use this. It&#8217;s almost like I&#8217;m missing out something. If you know why, do <a href='https://twitter.com/hardikr' title='My Twitter'>tweet</a> me !</p>

<p>Alright, let&#8217;s get back to our own code. To recap, we just assigned <code>path</code> to the requested path by using <code>req.url</code>.</p>

<p>After that, it&#8217;s pretty self explanatory. We use the <code>switch</code> method (which I presume you know). The first case, we test for the root of our homepage - for which the pathname would be <code>/</code>. We write the response headers and body just like last time, and end the output with <code>res.end()</code>. Don&#8217;t forget to put your <code>break</code> statement. Similarly, we test for <code>/about</code> and send my about page.</p>
<div class='highlight'><pre><span class='nx'>fs</span><span class='p'>.</span><span class='nx'>readFile</span><span class='p'>(</span><span class='nx'>__dirname</span> <span class='o'>+</span> <span class='nx'>path</span><span class='p'>,</span> <span class='kd'>function</span><span class='p'>(</span><span class='nx'>err</span><span class='p'>,</span> <span class='nx'>data</span><span class='p'>)</span> <span class='p'>{</span>
 <span class='k'>if</span><span class='p'>(</span><span class='nx'>err</span><span class='p'>)</span> <span class='k'>throw</span> <span class='nx'>err</span><span class='p'>;</span>
 <span class='nx'>res</span><span class='p'>.</span><span class='nx'>writeHead</span><span class='p'>(</span><span class='mi'>200</span><span class='p'>,</span> <span class='p'>{</span><span class='s1'>&#39;Content-Type&#39;</span> <span class='o'>:</span> <span class='s1'>&#39;image/png&#39;</span><span class='p'>});</span>
 <span class='nx'>res</span><span class='p'>.</span><span class='nx'>write</span><span class='p'>(</span><span class='nx'>data</span><span class='p'>,</span><span class='s1'>&#39;utf8&#39;</span><span class='p'>);</span>
 <span class='nx'>res</span><span class='p'>.</span><span class='nx'>end</span><span class='p'>();</span>
<span class='p'>});</span>
</pre>
</div>
<p>But now, I want to send over a PNG image as my favorite XKCD comic. I have a file named image.png lying in the same folder as my server.js file which I want to serve. Logically, I have to read the file from my Node.JS code first. I can do this with the <code>readFile</code> method.</p>

<p><code>__dirname</code> specifies the current working directory (where the Node server file is present), and we append to it the path that we extracted from <code>url.parse(req.url).pathname</code> hence building the absolute path to the <code>image.png</code> file on the UNIX filesystem. We use an anonymous callback function which will return the file as an object <code>data</code>.</p>

<p>I check for any errors, if found will be thrown. I write the HTTP response header, but this time my <code>Content-Type</code> is set to <code>image/png</code> since I&#8217;m returning a PNG image. I pass along the file object <code>data</code> which contains the PNG file and end my output stream with <code>res.end()</code>.</p>

<p>The <code>default</code> case will be selected if the client requests one of the paths we&#8217;re not checking for; and it sends over a simple 404 error.</p>

<p>That&#8217;s pretty much it. We have our working homepage, and you can test it out! If you want something like this for yourself on the Internet, you can get to designing your webpage in Node and host it over at Amazon EC2 which I think is still offering one year of free micro-instances :)</p>

<p>Since this is just a demo, the number of files are small, and the amount of HTML is small. Realistically, for a bigger homepage, obviously we would not want to include all your HTML in the Node.JS server code. That wouldn&#8217;t be too smart of us!</p>

<p>One way would be to use the excellent <a href='https://github.com/visionmedia/express' title='Express on GitHub'>Express</a> framework along with <a href='https://github.com/senchalabs/connect' title='Connect on GitHub'>Connect</a> middleware; but let&#8217;s leave that for later on, when we&#8217;re more experienced with pure Node.JS code. I suggest this in the same vein as people will tell you to start off with pure Javascript and then to go jQuery.</p>

<p>Another way would be to build a static file server function, to which we can pass as parameter the file we wish to serve. Good ol&#8217; functions !</p>

<p>You should try writing that code on your own. But, here are a few hints.</p>

<ul>
<li>You&#8217;ll have to write the <code>/</code> as an index.html file, and <code>/about</code> as about.html, and pass them as parameters to the static file server.</li>

<li>You can use the same static file server function above and generalize it.</li>
</ul>

<p>The solution can be found, if you know where to look! So, till next time, where we&#8217;ll run bash functions through Node code!</p>

<p>A few words before we part, as I said before, keep perusing the Node documentation. It&#8217;s quite small and easy to understand. There are a lot of methods which you may like to play around with. I&#8217;m deliberately keeping it simple in the blog post, since I want everyone to read the Node docs.</p>

<p>You could also look at the hundreds of thousands of lines of open-sourced Node.JS code. Just <a href='https://github.com/search?q=Node&amp;type=Everything&amp;repo=&amp;langOverride=&amp;start_value=1' title='GitHub search for Node'>search</a> on GitHub. At the end of next week&#8217;s post on running bash functions, we&#8217;ll take a look into a third-party Node.JS module that&#8217;ll turn our command line into a dictionary! How cool is that ?! Hang on till next week!</p>

		<!--<div class="meta-tags">
			<ul>
				
				<li><a href="http://localhost:4000/tag/node/" title="Posts tagged node">node</a></li>
				
				<li><a href="http://localhost:4000/tag/nodejs/" title="Posts tagged nodejs">nodejs</a></li>
				
				<li><a href="http://localhost:4000/tag/programming/" title="Posts tagged programming">programming</a></li>
				
				<li><a href="http://localhost:4000/tag/javascript/" title="Posts tagged javascript">javascript</a></li>
				
			</ul>
		</div>-->
</div>
<hr class="pad" />

<!--Post -->
<div id="post-" class="post">
	<h2><a href="http://localhost:4000/js/node-1">A Gentle Introduction to Node - 1</a></h2>
	<div class="post-meta">
		<div class="meta-date">April 09, 2011</div>
	</div>
	<p>There are many great introductions to Node, and I&#8217;m not going to waste my time reinventing the wheel. Instead, I&#8217;m trying to fill a gap that exists, somewhere between the <a href='http://nodejs.org' title='Node Home'>hello world program</a> and the <a href='https://github.com/ry/node_chat' title='Node_Chat'>node-chat example</a>, all while linking to great resources already out there. At the end of the post series, you should be able to comfortably create real-time web applications using NodeJS + <a href='http://socket.io' title='Socket.IO'>Socket.IO</a>. Now it&#8217;s really easy to create real-time web applications :)</p>

<p>First off, a few points to note:</p>

<ul>
<li>I&#8217;m in the midst of learning Node myself, so do not expect super high-performance code. Let&#8217;s leave premature optimization to the pros and focus on getting the basics of Node down.</li>

<li>A lot of the code examples have probably been inspired from the thousands of lines of open-source code I&#8217;ve read (which invariably is the best way to learn Node). So, thanks to them.</li>

<li>As far as possible, I give credit to the original authors of any code I may have borrowed. If I may have unintentionally missed something, please tweet me <a href='https://twitter.com/hardikr' title='My Twitter'>@hardikr</a>.</li>

<li>Keep referring the <a href='http://nodejs.org/docs/v0.4.5/api/all.html' title='Node Docs'>Node docs</a> when you learn something new. The API is fairly small and straightforward.</li>

<li>The latest version of Node as of this writing is 0.4.5. That&#8217;s the version I&#8217;ll be using</li>

<li>Consult the <a href='http://nodeguide.com/style.html' title='Felixge'>Javascript style guide</a> by <a href='http://debuggable.com' title='Felixge'>Felix Geisendörfer</a>, to learn about best practises while writing JS code.</li>
</ul>

<p>I&#8217;ll link to some interesting webpages about Node, so you get a broad view of Node. First, give Node website&#8217;s <a href='http://nodejs.org/#about' title='About Node'>about section</a> a casual read. Even if you don&#8217;t understand much, it&#8217;s alright. Next, to get a gentler introduction to Node, check out <a href='http://net.tutsplus.com/tutorials/javascript-ajax/learning-serverside-javascript-with-node-js/#more-10044' title='NetTuts Node'>this paragraph</a> from a Net.Tuts blog post about Node over a year ago. Don&#8217;t bother with the code samples just yet, we&#8217;ll get into that. Finally, read the Introduction section oN Net.Tuts&#8217; new <a href='http://net.tutsplus.com/tutorials/javascript-ajax/this-time-youll-learn-node-js/' title='NetTuts Node - new'>new post</a> on Node.</p>

<p>In short, just keep the following in mind:</p>

<blockquote>
<p>Node is an implementation of server-side Javascript and is written using the V8 Javascript engine (which is a blazing fast JS engine written by Google, and it&#8217;s part of the reason why Chrome is so fast). Node uses an event-driven programming model, that is non-blocking in nature.</p>
</blockquote>

<p>If you still don&#8217;t understand, don&#8217;t fret. Later on in the article I&#8217;ll link you to a few articles that make things crystal clear.</p>

<p>Right, so let&#8217;s dive into some code now. First, install Node using the instructions on the <a href='https://github.com/joyent/node/wiki/Installation' title='Node GitHub Wiki - Install'>Node Github Wiki</a>. If you&#8217;re on a Debian based system, just use:</p>
<div class='highlight'><pre>sudo apt-get install node
</pre>
</div>
<p>Node can run as an <a href='http://en.wikipedia.org/wiki/REPL' title='REPL'>REPL</a>. So fire up your terminal.</p>
<div class='highlight'><pre>hardik@voodoo:~<span class='nv'>$ </span>node
&gt; console.log<span class='o'>(</span><span class='s1'>&#39;Hello World!&#39;</span><span class='o'>)</span>;
Hello World!
&gt; 
</pre>
</div>
<p>That was easy, wasn&#8217;t it? You may remember console.log() from using client side Javascript. Yes, you can use it on Server-Side Javascript too. Although in real-world environments, we would use <em>sys.debug</em>.</p>

<p>So, you&#8217;re probably not too excited about using Node in the terminal. Right, let&#8217;s create our first server! Open up your favorite text editor, and <strong>type</strong> in this code. That&#8217;s right, type it. Not copy-paste. Trust me, it&#8217;ll help.</p>
<div class='highlight'><pre><span class='kd'>var</span> <span class='nx'>http</span> <span class='o'>=</span> <span class='nx'>require</span><span class='p'>(</span><span class='s1'>&#39;http&#39;</span><span class='p'>),</span>
		   <span class='nx'>server</span><span class='p'>;</span>
<span class='nx'>server</span> <span class='o'>=</span> <span class='nx'>http</span><span class='p'>.</span><span class='nx'>createServer</span><span class='p'>(</span><span class='kd'>function</span> <span class='p'>(</span><span class='nx'>req</span><span class='p'>,</span><span class='nx'>res</span><span class='p'>)</span> <span class='p'>{</span>
	<span class='nx'>res</span><span class='p'>.</span><span class='nx'>writeHead</span><span class='p'>(</span><span class='mi'>200</span><span class='p'>,</span> <span class='p'>{</span><span class='s1'>&#39;Content-Type&#39;</span> <span class='o'>:</span> <span class='s1'>&#39;text/html&#39;</span><span class='p'>});</span>
	<span class='nx'>res</span><span class='p'>.</span><span class='nx'>write</span><span class='p'>(</span><span class='s1'>&#39;&lt;b&gt;Hello World&lt;/b&gt;&#39;</span><span class='p'>);</span>
	<span class='nx'>res</span><span class='p'>.</span><span class='nx'>end</span><span class='p'>();</span>
<span class='p'>}).</span><span class='nx'>listen</span><span class='p'>(</span><span class='mi'>8080</span><span class='p'>);</span> <span class='c1'>// Defaults to localhost (127.0.0.1)</span>
<span class='nx'>console</span><span class='p'>.</span><span class='nx'>log</span><span class='p'>(</span><span class='s1'>&#39;Server started on http://localhost:8080&#39;</span><span class='p'>);</span>
</pre>
</div>
<p>Fine, if you really don&#8217;t want to type it, grab it (right click, Save Link As) <a href='https://github.com/hardikr/hardikr.github.com/raw/master/static/node/post1.js'>here</a>. But I warned you.</p>

<p>Let&#8217;s break it down here. Natively, Node supports program components known as <em>modules</em>. These modules have to be imported by Node whenever you want to use any of them, just like you would use require in Python, Javascript etc.</p>
<div class='highlight'><pre><span class='kd'>var</span> <span class='nx'>http</span> <span class='o'>=</span> <span class='nx'>require</span><span class='p'>(</span><span class='s1'>&#39;http&#39;</span><span class='p'>),</span>
</pre>
</div>
<p>First, we require the <em>http</em> module, which comes packaged with Node. We create a HTTP server object. So, let&#8217;s take a pause here and understand that HTTP !== Apache. Many people new to Node believe we&#8217;re creating an Apache server. That&#8217;s wrong. We&#8217;re creating a simple HTTP server object. Next, we define a variable called server, which will act as the placeholder for the server we create in the next line.</p>
<div class='highlight'><pre><span class='nx'>server</span> <span class='o'>=</span> <span class='nx'>http</span><span class='p'>.</span><span class='nx'>createServer</span><span class='p'>(</span><span class='kd'>function</span> <span class='p'>(</span><span class='nx'>req</span><span class='p'>,</span><span class='nx'>res</span><span class='p'>)</span> <span class='p'>{</span>
</pre>
</div>
<p><em>function (req,res)</em> is the callback function for <em>http.createServer</em>. This is the crux of the event-driven programming style of Node. Because Javascript provides extensive capabilities for callbacks and anonymous functions, it seemed to be the perfect choice for implementing Node.</p>

<p>But, what&#8217;s a callback function? A callback function is attached to a listener, and is fired on a particular event.</p>

<p>In the above example, the <em>addListener</em> event is automatically added to the <em>http.createServer</em> method. In essence, whenever a client connects to our server (aka the listener receives an event), the aforementioend anonymous function is called.</p>
<div class='highlight'><pre><span class='nx'>res</span><span class='p'>.</span><span class='nx'>writeHead</span><span class='p'>(</span><span class='mi'>200</span><span class='p'>,</span> <span class='p'>{</span><span class='s1'>&#39;Content-Type&#39;</span> <span class='o'>:</span> <span class='s1'>&#39;text/html&#39;</span><span class='p'>});</span>
</pre>
</div>
<p>Now, we have an HTTP server setup, but we still have to output Hello World to the browser. So, let&#8217;s set the HTTP headers for the output. (If you have no idea about the HTTP protocol, you should probably read <a href='http://www.ietf.org/rfc/rfc2616.txt' title='RFC 2616'>RFC 2616</a>, which defines the HTTP/1.1 protocol. It&#8217;s a very comprehensive document and it&#8217;ll be worth the time you spend on it. If you&#8217;re in a hurry, you always have Wikipedia.)</p>

<p>Right, so the 200 status code implies everything&#8217;s okay (see the <a href='http://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html' title='HTTP status codes'>complete list</a> of HTTP status codes), and we set the Content-Type to text/html, since we&#8217;re going to be sending a snippet of HTML code to our client. The headers are set so the browser knows how to render the incoming stream.</p>
<div class='highlight'><pre><span class='nx'>res</span><span class='p'>.</span><span class='nx'>write</span><span class='p'>(</span><span class='s1'>&#39;&lt;b&gt;Hello World&lt;/b&gt;&#39;</span><span class='p'>);</span>
<span class='nx'>res</span><span class='p'>.</span><span class='nx'>end</span><span class='p'>();</span>
</pre>
</div>
<p>We&#8217;ve set the headers, and now we actualy have to send the output. We write to the output stream. It&#8217;s important to understand that we&#8217;re just writing the snippet <em><b>Hello World</b></em> to the stream that is being sent by the HTTP server object, and nothing else. This could be anything: a jpeg image, an ogg audio or even an mp4 video, as long as we set the headers correctly. Next, with <em>res.end()</em>, we end the output stream, and that&#8217;s an indication for the server to finally send it over to the client.</p>
<div class='highlight'><pre><span class='p'>}).</span><span class='nx'>listen</span><span class='p'>(</span><span class='mi'>8080</span><span class='p'>);</span>
</pre>
</div>
<p>But, how will the server know who&#8217;s listening? That&#8217;s the next part, we make the server listen on a particular port and host. If you don&#8217;t specify the host, it defaults to localhost (127.0.0.1). I choose port 8080 because I usually have an Apache server running on 80.</p>
<div class='highlight'><pre><span class='nx'>console</span><span class='p'>.</span><span class='nx'>log</span><span class='p'>(</span><span class='s1'>&#39;Server started on http://localhost:8080&#39;</span><span class='p'>);</span>
</pre>
</div>
<p>Finally, we output to the terminal saying we&#8217;ve started the server at a particular address. This line is not required. But if it appears once you&#8217;ve run the code, it means the server has at least started listening.</p>

<p>Now, save the file as server.js, and run it in the terminal like:</p>
<div class='highlight'><pre>hardik@voodoo:~<span class='nv'>$ </span>node server.js 
Server started on http://localhost:8080
</pre>
</div>
<p>That&#8217;s it, fire up your favorite browser, and navigate to http://locahost:8080 and you should see your Hello World, all bolded up, because remember, we sent an html output.</p>

<p>So, that&#8217;s enough for the first post, but I&#8217;ll leave with providing a few links, which you <strong>should</strong> read, and I cannot emphasize that enough. Even if you take nothing away from this post apart from these digesting the content of these links, it would be acceptable.</p>

<ul id='request'>
<li><a href='http://debuggable.com/posts/understanding-node-js:4bd98440-45e4-4a9a-8ef7-0f7ecbdd56cb' title='Understanding Node'>Understanding Node</a> by Felix Geisendörfer</li>

<li><a href='http://code.danyork.com/2011/01/25/node-js-doctors-offices-and-fast-food-restaurants-understanding-event-driven-programming/' title='Dan York on Node'>Understanding Event-Driven programming</a> by Dan York</li>

<li><a href='http://developer.yahoo.com/blogs/ydn/posts/2010/10/understanding-the-event-loops-and-writing-great-code-for-node-js-part-1/' title='Yahoo on Node'>Understanding Event Loops and Writing Great Code for NodeJS - Part 1</a> by Yahoo</li>

<li><a href='http://www.infoq.com/interviews/node-ryan-dahl' title='Ryan Dahl interview'>Deep Inside Node.Js with Ryan Dahl</a> by InfoQ</li>

<li><a href='http://www.yuiblog.com/blog/2010/05/20/video-dahl/' title='Ryan Dahl Video'>Ryan Dahl on NodeJS</a> on Yahoo</li>

<li><a href='http://stackoverflow.com/questions/3629784/how-is-node-js-inherently-faster-when-it-still-relies-on-threads-internally' title='Node Threads'>Understanding Threading in Node</a> on StackOverflow</li>
</ul>

<p>The InfoQ interview goes into great detail about Node, and will give you a great overall review of Node. As with everything to do with Node, always check the date of publication of the resource you&#8217;re using. Things might have changed already, new features implemented, old ones deprecated and even a few API methods changed. So, learn to keep up, as you&#8217;ll be doing a lot of that when using Node.</p>

<p>In the next post, I&#8217;ll introduce static file servers and basic URL routing! Till then, happy reading and make sure you thoroughly read the above mentioned links.</p>

<p>Net.Tuts has started a screencast series on NodeJS just as I was about to publish this. They&#8217;ll be building a blog engine using Node. You can check it out <a href='http://net.tutsplus.com/tutorials/javascript-ajax/this-time-youll-learn-node-js/' title='NetTuts Node - new'>here</a>. I haven&#8217;t seen it yet, but knowing NetTuts, I can only vouch for it to be pretty easygoing on beginners. As I mentioned before, we&#8217;ll concentrate on building real-time web applications using Node and Socket.IO.</p>

<p>One more thing, make sure to thank Ryan Dahl/Joyent for the awesome work they&#8217;re doing. You could e-mail them, or even a tweet <a href='https://twitter.com/ryah' title='Ryan Dahl Twitter'>@ryah</a>/<a href='https://twitter.com/joyent' title='Joyent Twitter'>@joyent</a> would be good enough. There are a bunch of other very influential people in the Node community, <a href='https://github.com/felixge' title='Felixge Github'>Felix Geisendörfer</a> , <a href='https://github.com/guille' title='Guille Github'>Guillermo Rauch</a> (the main guy behind <a href='http://socket.io' title='Socket.IO'>Socket.IO</a>), <a href='https://github.com/visionmedia' title='TJ Github'>TJ Holowaychuk</a> and many others. Check out an incomplete list <a href='http://nodeguide.com/community.html' title='Node Community'>here</a>.</p>

<p>If you&#8217;ve lost track of all the links I&#8217;ve provided, check them out as a nice consolidated at the bottom of <a href='https://github.com/hardikr/hardikr.github.com/raw/master/_posts/2011-04-09-node-1.markdown' title='Link List'>the source</a> of this post.</p>

<p>If you liked (or more importantly, hated) this post, do tweet and follow me on Twitter at <a href='https://twitter.com/hardikr' title='My Twitter'>@hardikr</a> as a little thank-you :)</p>

		<!--<div class="meta-tags">
			<ul>
				
				<li><a href="http://localhost:4000/tag/node/" title="Posts tagged node">node</a></li>
				
				<li><a href="http://localhost:4000/tag/nodejs/" title="Posts tagged nodejs">nodejs</a></li>
				
				<li><a href="http://localhost:4000/tag/programming/" title="Posts tagged programming">programming</a></li>
				
				<li><a href="http://localhost:4000/tag/javascript/" title="Posts tagged javascript">javascript</a></li>
				
			</ul>
		</div>-->
</div>
<hr class="pad" />

<!--Post -->
<div id="post-" class="post">
	<h2><a href="http://localhost:4000/india/mumbai-locals">Twenty Minutes on a Mumbai local train</a></h2>
	<div class="post-meta">
		<div class="meta-date">April 03, 2011</div>
	</div>
	<p>A big part of the excitement of being a resident of Mumbai involves travelling by local trains. It would be an educated guess when I say that Mumbai boasts of one of the most extensive intra-city rail transport in the world.</p>

<p>My commute to work involves a local train journey lasting approximately 15-20 minutes, enveloped between two bus rides. However, this 20 minute journey never ceases to be eventful. I arrive at Borivali Railway Station by bus at about 08:05, and my local train, which arrives at Platform #1, is not until 08:17. However, I&#8217;m already all set for boarding. My wallet and mobile phone have been safely tucked into my backpack, which ironically, I wear on my front.</p>

<p>This particular day was a special one. The previous night, India beat Pakistan in a World Cup semi-final clash, and the excitement and anticipation of a World Cup final match with Sri Lanka, and a potential second World Cup win was in the air. I&#8217;m not such a huge fan of cricket in India (<a href='http://www.livemint.com/2011/03/31204905/The-banality-of-the-Indian-cri.html'>here&#8217;s why</a>), but I am happy for a billion citizens of a crazy country. Everybody&#8217;s talking about how Sachin Tendulkar missed out on his century, and going into excruciatingly graphic detail of how they would treat Shahid Afridi, the Pakistan team captain, for dismissing Tendulkar on 85 runs.</p>

<p><em>&#8220;We respect him for his comments after the game, but he is a Pakistani after all. We will not spare him with our words&#8221;</em>, says a young man next to me, when I asked him about how he felt about Afridi. People are scrambling to the newspaper stand and buying a copy of Times of India, the highest circulated English-language daily in India. Everybody wants to be the first to know all the facts about the match, and this includes people who watched the whole ~9 hour match.</p>

<p><em>&#8220;Yes, I watched the match yesterday. I malingered, but I don&#8217;t think my boss bought it. Later I realized even he was at home, and we had a good laugh, we called Pakistanis names and it was sorted. &#8221;</em>, explains one of the thousands of youngsters who work in call-centers in the city of Mumbai. He has an unsurprisingly familiar fake American accent, and he goes on to explain that this was one of the days he wishes he had a late night shift instead of a morning shift, since the leave he took would cost him a full thirtieth of his paycheck.</p>

<p>There are some people who won&#8217;t buy a newspaper, and will make it a point of peeking over the shoulders of people who actually purchased newspapers and trying to read whatever they can. This is a particularly irritating bourgeois cliché in India. A couple of newspaper owners snap out at the <a href='http://i.imgur.com/EP6C2.jpg'>peekers</a>, asking them to get their own newspapers, or just have plain-old patience. Sharing of resources has never been a problem in Mumbai. In fact, you&#8217;re expected to share almost anything and everything. Personal space, newspapers, a seat meant for two with five other people. You name it, you gotta share it.</p>

<p>There&#8217;s a loud honk, and the atmosphere created by the crowd borders on the frenetic. As the train slowly enters the station, there&#8217;s a flurry of activity on the platform. Even though there&#8217;s enough place for everybody, there&#8217;s this sort of hurry everybody is in, to get inside the train. Even before the train has come to a complete halt, hundreds have already boarded and occupied seats. The crowd often crosses the line of hooliganism, and one or two injuries on a train ride are almost a given.</p>

<p>I manage to shove my way into a Second Class compartment, which is separated from a First Class compartment by a steel grill. This grill almost feels like a symbolic barrier between the upper class and the middle class of Mumbai. But apparently, it&#8217;s much more complicated than that. <em>&#8220;I have to get into Second Class. I have a month-long First Class pass, but nowadays it is filled with people who don&#8217;t even have First Class tickets &#8221;</em>, explains a kid standing next to me.</p>

<p>There&#8217;s a warning message played on the speaker system in the train, about how to handle unidentified baggage. The message is usually played once each in Marathi, Hindi and English. But today, it&#8217;s being played in Marathi all the three times. A South Indian chap next to me asks what the message was about. I reply, <em>&#8220;If you see any unidentified police, just call the nearest baggage.&#8221;</em></p>

<p>He looks at me, confused, almost as confused as when he heard the message in Marathi. I realize my mistake and both of us burst out laughing. <em>&#8220;I got it, haha&#8221;</em>, he says, and shuffles into the crowd and disappears. It eerily reminds me of the biology lesson in which an amoeba ate a food particle, which got absorbed into it and became a part of the amoeba.</p>

<p>The crowd in a single bogie of the train has this sort of hierarchy, which is inapparent at first, but once you notice it, it&#8217;s pretty obvious. The young, and still pretending to be young, of the lower-middle class stand right on the exits of the bogie, often hanging perilously close to the electric poles that fly past when the train travels at it&#8217;s top speed of 60 kmph. Then come the class of people who&#8217;ll literally kill for a seat on the train, even when their journey lasts only around 5 minutes, and would not sacrifice their seats for a physically disabled person who managed to get into the general compartment only because the physically disabled compartment was filled with physically able people. We then reach the MBA/IIT examination preparation generation, who&#8217;re always buried in their books even when there&#8217;s hardly any place to stand. If it&#8217;s dark, they&#8217;ll squint and try to read a few pages. But, you gotta do what you gotta do to fulfill your parents&#8217; dreams. Then there are the agitated people. They love to start altercations for the smallest of things, and make it a point to make a scene out of otherwise trivial matters.</p>

<p><em>&#8220;Ganpatti bappa, morya.&#8221;</em> (praise the lord Ganpati), is the shout from the crowd as the train starts moving from Borivali station. <em>&#8220;They seem to think that taking a deity&#8217;s name will balance out all the crap that they do later on in the day. I tell you, this karma is a bad concept to judge people at the end of the day. Some wrongs just cannot be righted&#8221;</em>, explains an elderly gentleman. He almost seems disassociated from everybody else in the train, a deranged and dark figure looming amongst a thousand sweaty souls.</p>

<p>He introduces himself as Lavkare, and says, <em>&#8220;I lost interest in cricket when Azhar was caught match fixing. He was my idol.&#8221;</em> He&#8217;s 65, and still has to work for a living. His only son passed away a few years ago, and his daughter is married off and not in touch with him. <em>&#8220;Sometimes it&#8217;s amazing how much you have to do, to get two meals in a day. I&#8217;ve been denied my retirement money for five years now, and the</em>(redacted)_ bank seems to enjoy having me over. They give me tea and biscuits, but when I ask for my money they give me random papers and give excuses. Just last year, I unknowingly signed an agreement saying I would not demand the retirement money before I was 70. I had not brought my spectacles that day and they told me the papers were about releasing the retirement funds. I got all excited and signed them without even reading.&#8221;_ My heart does a flip as I hear these words. I cannot begin to imagine what he must be going through, and make a mental note to be thankful for the relatively pleasurable life I lead. It amazed me at how quickly he connected to me; maybe he just needed someone to talk to?</p>

<p>Kandivali is the next station, and Lavkare is literally thrown off as he attempts to alight from the train. There&#8217;s a clash in between the people getting off the train and people attempting to board the train. He falls on the platform floor. He seems hurt, but not a single person stops to even spare a glance. I jump off the train to help him out, but he waves his hands frantically, indicating I get back on the train. Nevertheless, it&#8217;s too late, and after a halt of around 10-12 seconds, the train is moving. Lavkare smiles and says, <em>&#8220;Son, these trains never wait for anyone. You may be lying on the tracks and they&#8217;ll run you over so that another thousand people can get to work on time. &#8221;</em></p>

<p>As much as I would love to hear him out, I have to head for work and I board the next train, bidding goodbye to Lavkare, who&#8217;ll remain a memorable acquaintance. Malad Station is the next stop. Here, the amount of people who get on the train is relatively lower, and now I&#8217;m well positioned at the exit to disembark at my destination, the next station, Goregaon.</p>

<p>As the train slows down at Goregaon, people are already jumping into the bogie/compartment, and their momentum is pushing us (the people who need to alight at Goregaon) further back, while the people behind us shove our backs with their elbows, as if that&#8217;s helping the situation. In the end, I have to do the same, and shove the people in front of me off the train, some of them are people who&#8217;d just boarded at Goregaon. They give me a mean glare, and a couple of them shout obscenities at the me and the people behind me; but what was I supposed to do? I think to myself, <em>&#8220;Fine. You label me, I label you&#8221;</em>. It was their fault that they didn&#8217;t let the people get down first, which is usually the accepted protocol to minimize collisions. I don&#8217;t bother even sparing a look back, and am already climbing the stairs which will lead me out of the station.</p>

<p>At the corner of the station, there&#8217;s a man holding a small child in his arms, along with a woman. <em>&#8220;Excuse me sir, may I have a word?&#8221;</em>, he calls out to me. This is not the first time I&#8217;ve been summoned by a supposed family. I knew how this encounter was going to go down, but I wanted to amuse myself, and played along. He explains how he had come to Mumbai to find work, and how he has to head back to his village, and has no money to purchase the tickets to do the same. I smile, and say that I have no money (which is partly true as I&#8217;m two weeks into work and haven&#8217;t got a paycheck yet.). He quickly resorts to begging, and falls at my feet. This maneuver pushes me off the edge and I turn around and walk away.</p>

<p>The ever-present <em>tabla</em> playing beggar is playing a new and popular song today (for those better informed, <em>Sheila ki Jawani</em>), which is quite interesting; even he feels the need to keep up with the ever-changing popular songs. As I am leaving the station, a little boy pesters me for some money, and I avoid him. He follows me around for a minute. When I finally turn to him to apprise him of his failed attempts at begging, I see his left hand holding a mobile phone to his ear. He&#8217;s talking away and smiling. I&#8217;m quite amused and disgusted at the same time, and proceed to my bus which would take me to the office, away from this madness, only for it to begin in the evening on the way back home. But what the hell, I&#8217;m loving it. (Nope, McDonalds, I&#8217;m not paying you a single rupee)</p>

<p><em>PS: If you&#8217;ve never travelled by train in Mumbai, my train route can be spotted <a href='http://maps.google.com/maps/ms?ie=UTF8&amp;msa=0&amp;msid=203734048420848874241.00049ff47418895d99014&amp;ll=19.195757,72.906303&amp;spn=0.173465,0.308647&amp;z=12'>here</a>.</em></p>

<p><em>Do tweet me (<a href='https://twitter.com/hardikr'>@hardikr</a>) if you liked this article. I would love to hear some feedback :)</em></p>

		<!--<div class="meta-tags">
			<ul>
				
				<li><a href="http://localhost:4000/tag/india/" title="Posts tagged india">india</a></li>
				
				<li><a href="http://localhost:4000/tag/mumbai/" title="Posts tagged mumbai">mumbai</a></li>
				
			</ul>
		</div>-->
</div>
<hr class="pad" />

<!--Post -->
<div id="post-" class="post">
	<h2><a href="http://localhost:4000/tech/eightbit-hijack">Apparently, Eightbit.me has hijacked my Twitter profile photo!</a></h2>
	<div class="post-meta">
		<div class="meta-date">March 26, 2011</div>
	</div>
	
<p>I logged into Twitter today and realized that my profile picture had got changed to an avatar I had created on <a href="http://eightbit.me">eightbit.me</a> a few days ago. That's weird! I do not remember doing such a thing!</p>
<p>My first instinct was to check whether other people who had used eightbit.me had suffered a similar fate, and around eight of the ten people I checked out on eightbit using their profile randomizer had their avatars set as their Twitter profile photo. I don't know if that proves anything or not, I'm just stating my observations.</p>
<p>I'll be the first one to admit it, I did not verify what sort of permissions eightbit demanded at the time I approved it, and I presumed it was just an interface for signing in.</p>
<p>But, it seems that they've hijacked my Twitter profile photo. What's next? It reminds me of that post on Hacker News whose title went something like 'oAuth will kill your kids'. I can't find it right now, but I really want to go back and read that article again.&nbsp;</p>


		<!--<div class="meta-tags">
			<ul>
				
				<li><a href="http://localhost:4000/tag/tech/" title="Posts tagged tech">tech</a></li>
				
				<li><a href="http://localhost:4000/tag/oauth/" title="Posts tagged oauth">oauth</a></li>
				
				<li><a href="http://localhost:4000/tag/twitter/" title="Posts tagged twitter">twitter</a></li>
				
			</ul>
		</div>-->
</div>
<hr class="pad" />

<!--Post -->
<div id="post-" class="post">
	<h2><a href="http://localhost:4000/startups/mistakes">A Time for New Mistakes</a></h2>
	<div class="post-meta">
		<div class="meta-date">March 23, 2011</div>
	</div>
	
<p>Most startup people are ex-disgruntled folks, having grown beards of experience in their jobs which they held for years and they were so sick of, attempting to quit their jobs day-in and day-out like it was a terrible addiction, and finally picking up the courage to do so. Alas, all those hours of slogging away at work, coding into the night for your company's new projects, teaming up with brilliant and quirky programmers, getting admonished for making mistakes in the production release of the code-base; all these things come to an end. Time and experience has made them the wiser.</p>

<p>They've found a new life. They've rediscovered what's it like to be a workaholic, but only this time they enjoy doing it. They've discovered a new passion ( it's usually photography ) , and they've started to finally love what they do for a living.  They're ready to sacrifice anything and everything for their startup to succeed. Every minute spent not doing anything else counts to making the startup a success. Some founders even make corn-flakes to make their ends meet.</p>

<p>Such traits amongst startup folk are quite common. The process of quitting your job and starting a startup is often called "<em>taking the plunge"</em>, giving an impression of a thrill-ride, an exciting jump into periods of uncertainty and freedom from the shackles of the corporate world. All quite true, since when you're doing a startup, you literally feel all these feelings I've just described. The free-fall into a world of entrepreneurship can be scary and intimidating, but which <em>plunge</em> isn't ?</p>

<p>So, why would someone go in the opposite direction? Why would someone attempt a startup after graduation, know that it's the right thing to do, and still turn to a job ? The startup failed ? Sure ! But that provides more motivation to me than anything else!  The result of a month-long self-introspection, all <em>while</em> coding the next phase of my startup, was that I was never destined to work in a corporate environment. That's just not me. I'll not end up doing that.</p>

<p>But, there's a big difference in the '<em>end up doing a job'</em> for the rest of my life, and doing a job to gain relevant experience. And I did feel the hit, I did feel something missing, in-spite of my <a href="http://lpad.in">mentor</a> doing everything he could to keep me on track. Towards the end of the fifth month, a combination of restlessness, lack of clarity, lack of self-esteem (couldn't go for Masters, and no current income), homesickness (probably induced by staying away from home for the last four years) and a bunch of other really complicated stuff gave way to me going home for the aforementioned month-long much-needed break.</p>

<p>I see this as just a break from my startup. My instinct told me I needed a break, and I took it. It may last months, or even years. But I'll be back. As much as I'm enjoying my position as web developer with my new employer, where I get to work on really exciting new technologies and stuff, I know that it's not my cup of tea for too long. I can never, ever do a job for my whole life! ( Please don't fire me yet :P ) .</p>

<p>But for now, it's time to make a bunch of new mistakes. That's what's life's all about (three apostrophe s' consecutively) ! I knew I could not learn from others' mistakes so passively. I had to make some of them on my own. But the beautiful and the best part is the grand scheme of things. Remember what Steve Jobs said, 'You can never connect the dots looking forward. You can only connect them looking backward.'</p>

<p>Trusting your instincts is something that'll probably never let you down. I'm pretty sure the dots will connect. I just can't see it right now! In the grand scheme of things, things will work out! I may sound like a lunatic trying to continuously reassure myself, but you could look back on your own life, and you'll see how even really bad things eventually led to something nice happening. It's statistically inevitable. After bad stuff happens, it's time for the good stuff, and hence the dots end up connecting. Sure, you may call it <em>karma</em>, religion or Justin Beiber if you're into that sort of a thing. But I'm sure a good mathematician could prove this <em>connecting of dots </em>Steve Jobs speaks about.</p>


		<!--<div class="meta-tags">
			<ul>
				
				<li><a href="http://localhost:4000/tag/startups/" title="Posts tagged startups">startups</a></li>
				
				<li><a href="http://localhost:4000/tag/jobs/" title="Posts tagged jobs">jobs</a></li>
				
			</ul>
		</div>-->
</div>
<hr class="pad" />


<div class="paginator">
  
  <div class="left_column">
    
  </div>

  
  <div class="right_column">
    
  </div>

  <div class="clear_both">
  </div>
  
</div>

				
				<div class="footer">
					<div class="footer-copynone">Theme borrowed from <a href="http://coffeecomrade.com/">coffeecomrade.com</a>. Powered by <a href="http://github.com/mojombo/jekyll">Jekyll</a>. Hosted on <a href="http://github.com/">Github</a></div>
					</div><!--/footer-->
			</div><!--/main-->
		</div><!--/payload-->
	</div><!--/wrap-->
</body>
</html>
